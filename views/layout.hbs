<!DOCTYPE html>
<html lang="{{lang}}" dir="{{#if isRTL}}rtl{{else}}ltr{{/if}}">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="viho admin is super flexible, powerful, clean &amp; modern responsive bootstrap 4 admin template with unlimited possibilities.">
    <meta name="keywords"
        content="admin template, viho admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="pixelstrap">
    <link rel="icon" href="/assets/images/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/x-icon">
    <title> ATHR Share Dashboard </title>
    <!-- Google font-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
        rel="stylesheet">
    <!-- Font Awesome-->
    <link rel="stylesheet" type="text/css" href="/assets/css/fontawesome.css">
    <!-- ico-font-->
    <link rel="stylesheet" type="text/css" href="/assets/css/icofont.css">
    <!-- Themify icon-->
    <link rel="stylesheet" type="text/css" href="/assets/css/themify.css">
    <!-- Flag icon-->
    <link rel="stylesheet" type="text/css" href="/assets/css/flag-icon.css">
    <!-- Feather icon-->
    <link rel="stylesheet" type="text/css" href="/assets/css/feather-icon.css">
    <!-- Plugins css start-->
    <link rel="stylesheet" type="text/css" href="/assets/css/animate.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/chartist.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/date-picker.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/prism.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/vector-map.css">
    <!-- Plugins css Ends-->
    <!-- Bootstrap css-->
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css">
    <!-- App css-->
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link id="color" rel="stylesheet" href="/assets/css/color-1.css" media="screen">
    <!-- Responsive css-->
    <link rel="stylesheet" type="text/css" href="/assets/css/responsive.css">

    <!-- إضافة ملف CSS خاص للـ RTL إذا لزم -->
    {{#if isRTL}}
    <link rel="stylesheet" type="text/css" href="/assets/css/rtl.css">
    {{/if}}

    <style>
        .toast-message {
            position: fixed;
            bottom: 20px;
            right: 20px;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 16px;
            z-index: 1000;
            transition: opacity 0.5s ease-in-out;
        }

        .success {
            background-color: #28a745;
        }

        .failure {
            background-color: red;
        }

        .fade-out {
            opacity: 0;
        }

        .btn {
            font-size: 12px;
            padding: 6px 12px;
            height: 30px;
            width: auto;
            margin: 0 5px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

            {
                {
                !-- .page-body {
                    margin-top: 50px;
                    margin-left: 260px;
                    padding: 50px;
                }

                --
            }
        }

        body.dark-only table {
            background-color: #1a1a2e;
            color: #fff;
        }

        body.dark-only th,
        body.dark-only td {
            border-color: rgba(255, 255, 255, 0.2);
        }

        body.dark-only {
            background-color: #1a1a2e;
            color: #ffffff;
        }

        body.dark-only .card {
            background-color: #111727;
            color: #ffffff;
            -webkit-box-shadow: 1px 1px 2px 1px rgba(29, 28, 28, 0.08);
            box-shadow: 1px 1px 2px 1px rgba(29, 28, 28, 0.08);
            border: 1px solid rgba(36, 105, 92, 0.2);
        }

        body.dark-only .card-header h5 {
            color: #ffffff;
        }

        body.dark-only #createUserButton {
            background-color: #007bff;
            border-color: #0056b3;
            color: #ffffff;
        }

        body.dark-only #createUserButton:hover {
            background-color: #0056b3;
            border-color: #004494;
        }

        body.dark-only .table {
            background-color: #1a1a2e;
            color: #ffffff;
        }

        body.dark-only thead tr {
            background-color: #2c2c3e;
        }

        body.dark-only thead th {
            color: #ffffff;
        }

        body.dark-only tbody tr {
            background-color: #1e1e30;
            color: #ffffff;
        }

        body.dark-only tbody tr:nth-child(even) {
            background-color: #252537;
        }

        body.dark-only th,
        body.dark-only td {
            border-color: rgba(255, 255, 255, 0.2);
        }

        body.dark-only .table .btn {
            color: #ffffff;
        }

        body.dark-only .table .btn-primary {
            background-color: #007bff;
            border-color: #0056b3;
        }

        body.dark-only .table .btn-danger {
            background-color: #dc3545;
            border-color: #a71d2a;
        }

        body.dark-only thead th {
            color: #ffffff !important;
            background-color: #2c2c3e !important;
        }

        body.dark-only tbody tr {
            background-color: #1e1e30 !important;
            color: #ffffff !important;
        }

        body.dark-only tbody td {
            color: #ffffff !important;
        }

        body.dark-only tbody tr:hover {
            background-color: #2a2a3c !important;
        }

        body.dark-only .card-header {
            background-color: #111727 !important;
            color: #ffffff !important;
        }

        body.dark-only .card-header h5 {
            color: #ffffff !important;
        }

        body.dark-only .table th,
        body.dark-only .table td {
            border-color: rgba(255, 255, 255, 0.2) !important;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #ffffff;
            color: white;
            text-align: center;
            padding: 10px 0;
        }

        main {
            padding-bottom: 60px;
        }

        body[dir="rtl"] .page-body {
            margin-right: 250px !important;
            margin-left: 0 !important;
            margin-top: 50px !important;
            padding: 50px !important;
        }

        body[dir="ltr"] .page-body {
            margin-left: 250px !important;
            margin-right: 0 !important;
            margin-top: 50px !important;
            padding: 50px !important;
        }

        .confirm-toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(36, 105, 92, 0.7);
            color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 10px;
            z-index: 1000;
            animation: fadeIn 0.3s ease-in-out;
        }

        .confirm-toast p {
            font-size: 16px;
            margin: 0;
        }

        .confirm-btn {
            background: red;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            width: 100px;
        }

        .cancel-btn {
            background: gray;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            width: 100px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }
    </style>
</head>

<body dir="{{#if isRTL}}rtl{{else}}ltr{{/if}}">
    {{> header}}

    <main>
        {{{ body }}}

    </main>

    {{> footer}}

    <!-- latest jquery-->
    <script src="/assets/js/jquery-3.5.1.min.js"></script>
    <!-- feather icon js-->
    <script src="/assets/js/icons/feather-icon/feather.min.js"></script>
    <script src="/assets/js/icons/feather-icon/feather-icon.js"></script>
    <!-- Sidebar jquery-->
    <script src="/assets/js/sidebar-menu.js"></script>
    <script src="/assets/js/config.js"></script>
    <!-- Bootstrap js-->
    <script src="/assets/js/bootstrap/popper.min.js"></script>
    <script src="/assets/js/bootstrap/bootstrap.min.js"></script>
    <!-- Plugins JS start-->
    <script src="/assets/js/chart/chartist/chartist.js"></script>
    <script src="/assets/js/chart/chartist/chartist-plugin-tooltip.js"></script>
    <script src="/assets/js/chart/knob/knob.min.js"></script>
    <script src="/assets/js/chart/knob/knob-chart.js"></script>
    <script src="/assets/js/chart/apex-chart/apex-chart.js"></script>
    <script src="/assets/js/chart/apex-chart/stock-prices.js"></script>
    <script src="/assets/js/prism/prism.min.js"></script>
    <script src="/assets/js/clipboard/clipboard.min.js"></script>
    <script src="/assets/js/counter/jquery.waypoints.min.js"></script>
    <script src="/assets/js/counter/jquery.counterup.min.js"></script>
    <script src="/assets/js/counter/counter-custom.js"></script>
    <script src="/assets/js/custom-card/custom-card.js"></script>
    <script src="/assets/js/notify/bootstrap-notify.min.js"></script>
    <script src="/assets/js/vector-map/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="/assets/js/vector-map/map/jquery-jvectormap-world-mill-en.js"></script>
    <script src="/assets/js/vector-map/map/jquery-jvectormap-us-aea-en.js"></script>
    <script src="/assets/js/vector-map/map/jquery-jvectormap-uk-mill-en.js"></script>
    <script src="/assets/js/vector-map/map/jquery-jvectormap-au-mill.js"></script>
    <script src="/assets/js/vector-map/map/jquery-jvectormap-chicago-mill-en.js"></script>
    <script src="/assets/js/vector-map/map/jquery-jvectormap-in-mill.js"></script>
    <script src="/assets/js/vector-map/map/jquery-jvectormap-asia-mill.js"></script>
    <script src="/assets/js/dashboard/default.js"></script>
    <script src="/assets/js/notify/index.js"></script>
    <script src="/assets/js/datepicker/date-picker/datepicker.js"></script>
    <script src="/assets/js/datepicker/date-picker/datepicker.en.js"></script>
    <script src="/assets/js/datepicker/date-picker/datepicker.custom.js"></script>
    <!-- Plugins JS Ends-->
    <!-- Theme js-->
    <script src="/assets/js/script.js"></script>
    <script src="/assets/js/theme-customizer/customizer.js"></script>
    <!-- login js-->
    <!-- Plugin used-->

    <script>
        const BASE_URL = 'http://192.168.1.87:3000/api/v1';
        function showConfirmToast(message) {
            return new Promise((resolve) => {
                const toastContainer = document.createElement('div');
                toastContainer.className = 'confirm-toast';

                const text = document.createElement('p');
                text.textContent = message;

                const confirmButton = document.createElement('button');
                confirmButton.textContent = 'Delete';
                confirmButton.className = 'confirm-btn';
                confirmButton.onclick = () => {
                    document.body.removeChild(toastContainer);
                    resolve(true);
                };

                const cancelButton = document.createElement('button');
                cancelButton.textContent = 'exit';
                cancelButton.className = 'cancel-btn';
                cancelButton.onclick = () => {
                    document.body.removeChild(toastContainer);
                    resolve(false);
                };

                toastContainer.appendChild(text);
                toastContainer.appendChild(confirmButton);
                toastContainer.appendChild(cancelButton);
                document.body.appendChild(toastContainer);
            });
        }


        function showToast(message, type = 'success') {
            const toastContainer = document.createElement('div');
            toastContainer.className = `toast-message ${type}`;
            toastContainer.textContent = message;
            document.body.appendChild(toastContainer);
            setTimeout(() => {
                toastContainer.classList.add('fade-out');
                setTimeout(() => {
                    toastContainer.remove();
                }, 500);
            }, 3000);
        }


        const logoutButton = document.getElementById('logoutButton');

        logoutButton.addEventListener('click', () => {
            localStorage.removeItem('data');
            window.location.href = 'login';
        });

        window.onload = () => {
            const user = JSON.parse(localStorage.getItem('data'));
            console.log('User:', user);

            if (!user || !user.name || !user.profile_photo) {
                console.error('User data is missing or incomplete.');
                return;
            }

            document.getElementById('userName').textContent = user.name;
            const profileImageElement = document.getElementById('profileImage');
            profileImageElement.src = user.profile_photo;
        };
    </script>
</body>

</html>